---
name: "sheetpoetry"
description: "A GraphQL API to generate poems from randomly selected cells on a Google spreadsheet."
tags: ["apollo", "graphql", "serverless", "vercel"]
---

import Example from "../components/example";

# sheetpoetry

_(You can read this in [english here](/en))_

## ¿Qué es esto?

Esta es una API GraphQL para generar poemas desde celdas seleccionadas al azar en una [hoja de cálculo de Google](https://docs.google.com/spreadsheets).

## ¿Cómo funciona?

La API acepta una consulta llamada `sheetpoem` con 3 argumentos:

- `spreadsheetId` (String): El ID de la hoja de cálculo.
- `range` (String): El rango de celdas y columnas.
- `verses` (Int): La cantidad de versos.

El `spreadsheetId` es el identificador único de tu hoja de cálculo. Es la parte de la URL que se muestra seleccionada en la imagen siguiente, y luce similar a esto: _1qjgDw3TREpqQoSSbB0tzd0Joues1jraJix2mU52zToU_.

[![spreadsheet Id](../images/id.gif)](../images/id.gif)

`range` es una selección de filas y columnas. Para una selección como la mostrada a continuación, este sería: _A1:D18_.

[![range](../images/range.gif)](../images/range.gif)

Y `verses` es un número, como _1_, _6_ o _3021_, y representa cuántos versos quieres que tenga tu poema.

Habiendo dicho esto, una consulta de ejemplo luciría algo así:

```graphql
query {
  sheetpoem(spreadsheetId: "1qjgDw3TREpqQoSSbB0tzd0Joues1jraJix2mU52zToU", range: "A1:B50", verses: 4)
}
```

Puedes probar esta consulta en vivo en el [GraphQL Playground](https://sheetpoetry.xyz/api).

## Ejemplo

Para este ejemplo usamos [esta hoja de cálculo](https://docs.google.com/spreadsheets/d/1qjgDw3TREpqQoSSbB0tzd0Joues1jraJix2mU52zToU/edit?usp=sharing) con "1000 versos chilenos" seleccionados por Felipe Cussen y Marcela Labraña.

<Example />
